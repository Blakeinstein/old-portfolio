---
import GhostButton from "../Common/GhostButton.astro";
---
<style lang="scss">
#contact {
	width: 90%;
	height: 90%;
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-around;
	gap: 1em;

	@media only screen and (max-width: 800px) {
		flex-direction: column;
		justify-content: center;

		> .banner {
			justify-content: space-around;
			height: 20%;
		}

		> .formBox {
			height: 80%;
		}
	}
}

h1 {
	font-size: 3.6em;
	font-weight: 700;
	line-height: 1em;
}

h4 {
	font-size: 1.2em;
	font-weight: 300;
}

.banner {
	display: flex;
	flex-flow: column;
	justify-content: space-around;
	height: 60%;
	padding: 1em 0;
}

.formBox {
	height: 60%;
	display: flex;
	position: relative;

	#complete, #contactForm {
		transition: all 1s ease-in-out;
	}

	#complete {
		padding: 4.4em 0;
		opacity: 0;
		visibility: hidden;
		position: absolute;
		inset: 0;

		.final-message {
			display: flex;
			flex-flow: column;
			justify-content: space-evenly;
			height: 100%;
			text-align: center;

			> h1 {
				font-size: 2.6em;
				font-weight: 1;
			}
		}

	}

	#contactForm {
		display: flex;
		flex-flow: column;
		height: 100%;
		justify-content: space-evenly;
		opacity: 1;
		visibility: visible;
	}

	&.complete {
		#complete {
			opacity: 1;
			visibility: visible;
		}

		#contactForm {
			opacity: 0;
			visibility: hidden;
		}
	}
}

.row {
	display: flex;
	align-items: center;

	> div {
		display: inline-block;
	}

	&.subject,
	&.message {
		display: block;
		width: 100%;
		> input {
			width: 100%;
		}
	}

	&.submit {
		margin-top: 0.5em;
		> :global(.ghostButton) {
			display: flex;
			align-items: center;
			font-size: 1.3em;
			height: 2em;
			padding-left: 0.7em;

			> svg {
				width: 4em;
				margin: 0 0.7em;
			}
		}
	}
}

label {
	color: white;
	font-weight: 400;
}

input[type="text"],
input[type="email"],
textarea {
	border: none;
	background: transparent;
	outline: 0;
	font: inherit;
	font-size: 1.2em;
	font-weight: 400;

	&:focus {
		border-bottom: 2px solid rgba(225, 225, 225, 0.6);
		outline: 0;
	}

	&::placeholder {
		color: #a2a2a27a;
	}
}

textarea {
	height: 100px;
	width: 100%;
	resize: none;
}

input[type="checkbox"] {
	visibility: hidden;
	margin: 1em;
	cursor: pointer;

	& + label {
		font-weight: inherit !important;
		position: relative;
		&:before,
		&:after {
			content: "";
			position: absolute;
			top: 50%;
			left: -10%;
			transform: translate(-50%, -50%);
			visibility: visible;
			width: 2em;
			height: 2em;
			box-sizing: border-box;
		}

		&:before {
			border-radius: 1em;
			border: 3px solid aliceblue;
			transition: border 0.1s ease-out;
		}

		&:after {
			content: "âœ“";
			text-align: center;
			line-height: 2em;
			font-weight: bolder;
			overflow: hidden;
			opacity: 0;
			transition: opacity 0.1s ease-in;
			color: black;
		}
	}

	&:checked + label {
		&:before {
			border-width: 1em;
			box-shadow: 0 0 5px aliceblue, 0 0 25px aliceblue,
				0 0 50px aliceblue, 0 0 100px aliceblue;
		}
		&:after {
			opacity: 1;
		}
	}
}
</style>

<div id="contact">
  <div class="banner">
    <h1>MAKE CONTACT</h1>
    <h4>Send me a message, regarding anything!</h4>
  </div>
  <div class="formBox">
    <form id="contactForm">
      <div class="row">
        <div class="name" id="name">
            <label for="name">Name</label><br>
            <input type="text" name="name"required placeholder="Your Name" >
        </div>
        <div class="email" id="email">
            <label for="email">Email</label><br>
            <input type="email" name="email" placeholder="Email address" pattern="^\S+@\S+$">
        </div>
      </div>
      <div class="row subject" id="subject">
        <label for="subject">Subject</label><br>
        <input type="text" name="subject" placeholder="Choose Subject">
      </div>
      <div class="row message" id="message" >
        <label for="message">Message</label><br>
        <textarea name="message" placeholder="Start typing here" required></textarea>
      </div>
      <div class="row" id="noSpamDiv">
        <input type="checkbox" name="confidence" id="noSpam" required>
        <label for="noSpam">I solemnly swear I am not a troll..</label>
      </div>
      <div class="row submit">
        <GhostButton frameless type="submit">
          Submit
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" xml:space="preserve" fill="aliceblue" stroke="aliceblue">
            <g><g transform="matrix(1 0 0 -1 0 1008)"><path d="M756.2,741.8L990,508L756.2,274.2l-27,27L918.1,490H10v36h908.1L729.3,714.8L756.2,741.8z"/></g></g>
          </svg>
        </GhostButton>
      </div>
    </form>
    <div id="complete" class="final-message">
      <div class="final-message">
        <h1>Thanks!</h1>
        <h4>I will try to get back as soon as possible!</h4>
      </div>
    </div>
  </div>
</div>